{% extends "base.html" %}
{% block content %}

<h3 class="mb-3">Calendar</h3>

{% if current_user.role in ["admin", "faculty"] %}
<a href="{{ url_for('calendar.add_event') }}" class="btn btn-primary mb-3">Add Event</a>
{% endif %}

<!-- FullCalendar container -->
<div id="calendar"></div>

<!-- FULLCALENDAR + BOOTSTRAP -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

<script>
document.addEventListener("DOMContentLoaded", function () {

    var calendarEl = document.getElementById("calendar");

    var calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        height: "auto",

        events: "/calendar/api/events",

        eventClick: function(info) {
            alert("Event: " + info.event.title);
        }
    });

    calendar.render();
});
</script>

{% endblock %}
